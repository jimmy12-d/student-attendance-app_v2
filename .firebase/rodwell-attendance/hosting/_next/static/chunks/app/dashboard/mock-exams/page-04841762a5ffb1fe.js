(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[249],{7536:(e,r,t)=>{Promise.resolve().then(t.bind(t,751))},4713:(e,r,t)=>{"use strict";t.d(r,{A:()=>o});var a=t(5155),l=t(2115);function d(e){let{noPadding:r=!1,className:t,children:l}=e;return(0,a.jsx)("div",{className:"flex-1 ".concat(r?"":"p-2"," ").concat(t),children:l})}function s(e){let{className:r,children:t}=e;return(0,a.jsx)("footer",{className:"p-6 ".concat(r),children:t})}function o(e){let{rounded:r="rounded-2xl",flex:t="flex-col",className:o="",hasComponentLayout:i=!1,hasTable:n=!1,isHoverable:c=!1,isModal:b=!1,children:g,footer:h,onClick:x}=e,u=["bg-white flex",o,r,t,b?"dark:bg-slate-900":"dark:bg-slate-900/70"];return c&&u.push("hover:shadow-lg transition-shadow duration-500"),l.createElement("div",{className:u.join(" "),onClick:x},i?g:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d,{noPadding:n,children:g}),h&&(0,a.jsx)(s,{children:h})]}))}},2781:(e,r,t)=>{"use strict";t.d(r,{A:()=>l});var a=t(5155);function l(e){let{path:r,w:t="w-6",h:l="h-6",size:d=null,className:s="",children:o}=e,i=null!=d?d:16;return(0,a.jsxs)("span",{className:"inline-flex justify-center items-center ".concat(t," ").concat(l," ").concat(s),children:[(0,a.jsx)("svg",{viewBox:"0 0 24 24",width:i,height:i,className:"inline-block",children:(0,a.jsx)("path",{fill:"currentColor",d:r})}),o]})}t(2115)},5632:(e,r,t)=>{"use strict";t.d(r,{A:()=>d});var a=t(5155);t(2115);var l=t(9732);function d(e){let{children:r}=e;return(0,a.jsx)("section",{className:"bg-gray-100 dark:bg-gray-800 p-6 ".concat(l.Fx),children:r})}},198:(e,r,t)=>{"use strict";t.d(r,{A:()=>o});var a=t(5155);t(2115);var l=t(2781),d=t(6778);function s(e){let{icon:r,color:t,w:s="w-12",h:o="h-12",bg:i=!1,className:n=""}=e,c=i?d.cu[t]:"".concat(d.Wj[t]," bg-gray-50 dark:bg-slate-800");return(0,a.jsx)(l.A,{path:r,w:s,h:o,size:"24",className:"rounded-full ".concat(c," ").concat(n)})}function o(e){let{icon:r,title:t,main:d=!1,children:o}=e;return(0,a.jsxs)("section",{className:"".concat(d?"":"pt-6"," mb-6 flex items-center justify-between"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-start",children:[r&&d&&(0,a.jsx)(s,{icon:r,color:"light",className:"mr-3",bg:!0}),r&&!d&&(0,a.jsx)(l.A,{path:r,className:"mr-2",size:"20"}),(0,a.jsx)("h1",{className:"leading-tight ".concat(d?"text-3xl":"text-2xl"),children:t})]}),o]})}},6778:(e,r,t)=>{"use strict";t.d(r,{Fw:()=>c,Wj:()=>n,an:()=>d,cu:()=>i,mc:()=>l,sG:()=>b,xY:()=>s,zy:()=>o});let a="bg-linear-to-tr",l="".concat(a," from-purple-400 via-pink-500 to-red-500"),d="".concat(a," from-slate-700 via-slate-900 to-slate-800"),s="".concat(a," from-pink-400 via-red-500 to-yellow-500"),o="bg-white",i={white:"bg-white text-black",light:"bg-white text-black dark:bg-slate-900/70 dark:text-white",contrast:"bg-gray-800 text-white dark:bg-white dark:text-black",success:"bg-emerald-500 border-emerald-500 text-white",danger:"bg-red-500 border-red-500 text-white",warning:"bg-yellow-500 border-yellow-500 text-white",info:"bg-blue-500 border-blue-500 text-white"},n={white:"text-black dark:text-slate-100",light:"text-gray-700 dark:text-slate-400",contrast:"dark:text-white",success:"text-emerald-500",danger:"text-red-500",warning:"text-yellow-500",info:"text-blue-500"},c={white:[n.white,"border-gray-100"].join(" "),light:[n.light,"border-gray-100"].join(" "),contrast:[n.contrast,"border-gray-900 dark:border-slate-100"].join(" "),success:[n.success,"border-emerald-500"].join(" "),danger:[n.danger,"border-red-500"].join(" "),warning:[n.warning,"border-yellow-500"].join(" "),info:[n.info,"border-blue-500"].join(" ")},b=function(e,r,t){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("void"===e)return"";let l={ring:{white:"ring-gray-200 dark:ring-gray-500",whiteDark:"ring-gray-200 dark:ring-gray-500",lightDark:"ring-gray-200 dark:ring-gray-500",contrast:"ring-gray-300 dark:ring-gray-400",success:"ring-emerald-300 dark:ring-emerald-700",danger:"ring-red-300 dark:ring-red-700",warning:"ring-yellow-300 dark:ring-yellow-700",info:"ring-blue-300 dark:ring-blue-700",facebook:"ring-blue-300 dark:ring-blue-700"},active:{white:"bg-gray-100",whiteDark:"bg-gray-100 dark:bg-slate-800",lightDark:"bg-gray-200 dark:bg-slate-700",contrast:"bg-gray-700 dark:bg-slate-100",success:"bg-emerald-700 dark:bg-emerald-600",danger:"bg-red-700 dark:bg-red-600",warning:"bg-yellow-700 dark:bg-yellow-600",info:"bg-blue-700 dark:bg-blue-600",facebook:"bg-blue-900 dark:bg-blue-800"},bg:{white:"bg-white text-black",whiteDark:"bg-white text-black dark:bg-slate-900 dark:text-white",lightDark:"bg-gray-100 text-black dark:bg-slate-800 dark:text-white",contrast:"bg-gray-800 text-white dark:bg-white dark:text-black",success:"bg-emerald-600 dark:bg-emerald-500 text-white",danger:"bg-red-600 dark:bg-red-500 text-white",warning:"bg-yellow-600 dark:bg-yellow-500 text-white",info:"bg-blue-600 dark:bg-blue-500 text-white",facebook:"bg-blue-800 dark:bg-blue-700 text-white"},bgHover:{white:"hover:bg-gray-100",whiteDark:"hover:bg-gray-100 dark:hover:bg-slate-800",lightDark:"hover:bg-gray-200 dark:hover:bg-slate-700",contrast:"hover:bg-gray-700 dark:hover:bg-slate-100",success:"hover:bg-emerald-700 hover:border-emerald-700 dark:hover:bg-emerald-600 dark:hover:border-emerald-600",danger:"hover:bg-red-700 hover:border-red-700 dark:hover:bg-red-600 dark:hover:border-red-600",warning:"hover:bg-yellow-700 hover:border-yellow-700 dark:hover:bg-yellow-600 dark:hover:border-yellow-600",info:"hover:bg-blue-700 hover:border-blue-700 dark:hover:bg-blue-600 dark:hover:border-blue-600",facebook:"hover:bg-blue-900 hover:border-blue-900 dark:hover:bg-blue-800 dark:hover:border-blue-800"},borders:{white:"border-white",whiteDark:"border-white dark:border-slate-900",lightDark:"border-gray-100 dark:border-slate-800",contrast:"border-gray-800 dark:border-white",success:"border-emerald-600 dark:border-emerald-500",danger:"border-red-600 dark:border-red-500",warning:"border-yellow-600 dark:border-yellow-500",info:"border-blue-600 dark:border-blue-500",facebook:"border-blue-800 dark:border-blue-700"},text:{contrast:"dark:text-slate-100",success:"text-emerald-600 dark:text-emerald-500",danger:"text-red-600 dark:text-red-500",warning:"text-yellow-600 dark:text-yellow-500",info:"text-blue-600 dark:text-blue-500",facebook:"text-blue-800 dark:text-blue-700"},outlineHover:{contrast:"hover:bg-gray-800 hover:text-gray-100 dark:hover:bg-slate-100 dark:hover:text-black",success:"hover:bg-emerald-600 hover:text-white hover:text-white dark:hover:text-white dark:hover:border-emerald-600",danger:"hover:bg-red-600 hover:text-white hover:text-white dark:hover:text-white dark:hover:border-red-600",warning:"hover:bg-yellow-600 hover:text-white hover:text-white dark:hover:text-white dark:hover:border-yellow-600",info:"hover:bg-blue-600 hover:text-white dark:hover:text-white dark:hover:border-blue-600",facebook:"hover:bg-blue-800 hover:text-white dark:hover:text-white dark:hover:border-blue-800"}},d=r&&0>["white","whiteDark","lightDark"].indexOf(e),s=[l.borders[e],l.ring[e]];return a?s.push(l.active[e]):s.push(d?l.text[e]:l.bg[e]),t&&s.push(d?l.outlineHover[e]:l.bgHover[e]),s.join(" ")}},9732:(e,r,t)=>{"use strict";t.d(r,{Fx:()=>a,wS:()=>l});let a="xl:max-w-6xl xl:mx-auto",l=e=>"".concat(e," â€” ").concat("Rodwell Attendance")},751:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>b});var a=t(5155),l=t(2115),d=t(1063),s=t(5111),o=t(7058),i=t(5632),n=t(198),c=t(4713);let b=()=>{let[e,r]=(0,l.useState)([]),[t,b]=(0,l.useState)(!0),[g,h]=(0,l.useState)(!1),[x,u]=(0,l.useState)(!1),[k,m]=(0,l.useState)(null),w=(0,l.useMemo)(()=>({math:"Khmer",khmer:"Math",chemistry:"History",physics:"Moral",biology:"Geometry",history:"Earth",english:"English"}),[]);(0,l.useEffect)(()=>{(async()=>{b(!0),m(null);try{let e=(0,o.rJ)(s.db,"examSettings"),t=(await (0,o.GG)(e)).docs.map(e=>({id:e.id,...e.data()}));r(t);let a=(0,o.H9)(s.db,"examControls","mock3"),l=await (0,o.x7)(a);l.exists()&&h(l.data().isPublished)}catch(e){console.error("Error fetching page data:",e),m("Failed to load page data. Please check console for details.")}b(!1)})()},[]);let y=async()=>{u(!0);let e=!g;try{let r=(0,o.H9)(s.db,"examControls","mock3");await (0,o.BN)(r,{isPublished:e},{merge:!0}),h(e)}catch(e){console.error("Failed to update Mock 3 status:",e),m("Failed to update status. Please try again.")}finally{u(!1)}},v=(0,l.useMemo)(()=>{let r=e.reduce((e,r)=>{let t=r.mock||"undefined";return e[t]||(e[t]=[]),e[t].push(r),e},{}),t={};return Object.keys(r).forEach(e=>{let a=r[e].reduce((e,r)=>{let t="".concat(r.type,"|").concat(r.maxScore);return e[t]||(e[t]={type:r.type,maxScore:r.maxScore,subjects:[]}),e[t].subjects.push(r.subject),e},{});t[e]=Object.values(a)}),t},[e]);return(0,a.jsxs)(i.A,{children:[(0,a.jsx)(n.A,{icon:d.tPJ,title:"Mock Exam Management",main:!0}),k&&(0,a.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",children:k}),(0,a.jsxs)(c.A,{className:"mb-6 p-2",children:[(0,a.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-800 dark:text-white",children:"Publish Mock 3 Results"}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)("label",{htmlFor:"toggle-mock3",className:"flex items-center cursor-pointer",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"checkbox",id:"toggle-mock3",className:"sr-only",checked:g,onChange:y,disabled:x}),(0,a.jsx)("div",{className:"block w-14 h-8 rounded-full ".concat(g?"bg-indigo-600":"bg-gray-600")}),(0,a.jsx)("div",{className:"dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition-transform ".concat(g?"translate-x-6":"")})]}),(0,a.jsx)("div",{className:"ml-3 text-gray-700 dark:text-gray-300 font-medium",children:g?"Published":"Unpublished"})]}),x&&(0,a.jsx)("div",{className:"ml-4 text-sm text-gray-500 animate-pulse",children:"Updating..."})]}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"When published, students will be able to see their Mock 3 exam results."})]}),t?(0,a.jsx)(c.A,{children:(0,a.jsx)("p",{className:"text-center p-4",children:"Loading settings..."})}):["mock3","mock2","mock1"].map(e=>v[e]&&(0,a.jsxs)(c.A,{className:"mb-6",hasTable:!0,children:[(0,a.jsxs)("h2",{className:"text-xl font-bold p-4 text-gray-800 dark:text-white",children:["Mock ",e.replace("mock","")," Settings"]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,a.jsx)("thead",{className:"bg-gray-50 dark:bg-slate-800",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Class Type"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Subjects"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Max Score per Subject"})]})}),(0,a.jsx)("tbody",{className:"bg-white dark:bg-slate-900 divide-y divide-gray-200 dark:divide-gray-800",children:v[e].map((r,t)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:r.type}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-300",children:r.subjects.map(e=>{let t="Grade 12 Social"===r.type&&w[e.toLowerCase()]||e;return t.charAt(0).toUpperCase()+t.slice(1)}).join(", ")}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:r.maxScore})]},"".concat(e,"-").concat(t)))})]})})]},e))]})}},5111:(e,r,t)=>{"use strict";t.d(r,{db:()=>c,j2:()=>n,yA:()=>i});var a=t(9904),l=t(4565),d=t(7058),s=t(333),o=t(6553);t(9562);let i=(0,a.Dk)().length?(0,a.Sx)():(0,a.Wp)({apiKey:"AIzaSyBlUIZfsrgVvfw4fL2poyITh0bfM9Iumag",authDomain:"portal.rodwell.center",projectId:"rodwell-attendance",storageBucket:"rodwell-attendance.firebasestorage.app",messagingSenderId:"50079853705",appId:"1:50079853705:web:5e9d3dcb42b4d0d874aa58"}),n=(0,l.xI)(i),c=(0,d.aU)(i);(0,s.c7)(i),(0,o.TT)().then(e=>{e&&(0,o.P5)(i)})}},e=>{var r=r=>e(e.s=r);e.O(0,[779,992,965,164,441,517,358],()=>r(7536)),_N_E=e.O()}]);