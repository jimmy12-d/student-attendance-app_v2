[debug] [2025-07-30T02:59:55.138Z] ----------------------------------------------------------------------
[debug] [2025-07-30T02:59:55.140Z] Command:       /usr/local/bin/node /usr/local/bin/firebase deploy --only hosting
[debug] [2025-07-30T02:59:55.140Z] CLI Version:   14.8.0
[debug] [2025-07-30T02:59:55.140Z] Platform:      darwin
[debug] [2025-07-30T02:59:55.140Z] Node Version:  v20.9.0
[debug] [2025-07-30T02:59:55.140Z] Time:          Wed Jul 30 2025 09:59:55 GMT+0700 (Indochina Time)
[debug] [2025-07-30T02:59:55.140Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-07-30T02:59:55.235Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-07-30T02:59:55.235Z] > authorizing via signed-in user (kemhoutlem@gmail.com)
[debug] [2025-07-30T02:59:55.235Z] [iam] checking project rodwell-attendance for permissions ["firebase.projects.get","firebasehosting.sites.update"]
[debug] [2025-07-30T02:59:55.235Z] Checked if tokens are valid: false, expires at: 1753166007073
[debug] [2025-07-30T02:59:55.235Z] Checked if tokens are valid: false, expires at: 1753166007073
[debug] [2025-07-30T02:59:55.236Z] > refreshing access token with scopes: []
[debug] [2025-07-30T02:59:55.236Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2025-07-30T02:59:55.236Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-07-30T02:59:55.617Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2025-07-30T02:59:55.617Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-07-30T02:59:55.632Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/rodwell-attendance:testIamPermissions [none]
[debug] [2025-07-30T02:59:55.632Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/rodwell-attendance:testIamPermissions x-goog-quota-user=projects/rodwell-attendance
[debug] [2025-07-30T02:59:55.632Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/rodwell-attendance:testIamPermissions {"permissions":["firebase.projects.get","firebasehosting.sites.update"]}
[debug] [2025-07-30T02:59:56.765Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/rodwell-attendance:testIamPermissions 200
[debug] [2025-07-30T02:59:56.766Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/rodwell-attendance:testIamPermissions {"permissions":["firebase.projects.get","firebasehosting.sites.update"]}
[debug] [2025-07-30T02:59:56.769Z] Checked if tokens are valid: true, expires at: 1753847994618
[debug] [2025-07-30T02:59:56.769Z] Checked if tokens are valid: true, expires at: 1753847994618
[debug] [2025-07-30T02:59:56.769Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/rodwell-attendance [none]
[debug] [2025-07-30T02:59:57.368Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/rodwell-attendance 200
[debug] [2025-07-30T02:59:57.368Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/rodwell-attendance {"projectId":"rodwell-attendance","projectNumber":"50079853705","displayName":"rodwell-attendance","name":"projects/rodwell-attendance","resources":{"hostingSite":"rodwell-attendance"},"state":"ACTIVE","etag":"1_4b5e5a04-6213-4fa6-b7af-cba7fac698fa"}
[debug] [2025-07-30T02:59:58.763Z] defaultcredentials: writing to file /Users/jimmy/.config/firebase/kemhoutlem_gmail_com_application_default_credentials.json
[debug] [2025-07-30T02:59:58.763Z] Checked if tokens are valid: true, expires at: 1753847994618
[debug] [2025-07-30T02:59:58.764Z] Checked if tokens are valid: true, expires at: 1753847994618
[debug] [2025-07-30T02:59:58.764Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/rodwell-attendance/sites pageToken=&pageSize=10
[debug] [2025-07-30T02:59:59.867Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/rodwell-attendance/sites 200
[debug] [2025-07-30T02:59:59.868Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/rodwell-attendance/sites {"sites":[{"name":"projects/rodwell-attendance/sites/rodwell-attendance","defaultUrl":"https://rodwell-attendance.web.app","type":"DEFAULT_SITE"}]}
[debug] [2025-07-30T02:59:59.870Z] Checked if tokens are valid: true, expires at: 1753847994618
[debug] [2025-07-30T02:59:59.870Z] Checked if tokens are valid: true, expires at: 1753847994618
[debug] [2025-07-30T02:59:59.870Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/rodwell-attendance/sites 
[debug] [2025-07-30T03:00:00.410Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/rodwell-attendance/sites 200
[debug] [2025-07-30T03:00:00.410Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/rodwell-attendance/sites {"sites":[{"name":"projects/rodwell-attendance/sites/rodwell-attendance","defaultUrl":"https://rodwell-attendance.web.app","type":"DEFAULT_SITE"}]}
[debug] [2025-07-30T03:00:00.411Z] Checked if tokens are valid: true, expires at: 1753847994618
[debug] [2025-07-30T03:00:00.411Z] Checked if tokens are valid: true, expires at: 1753847994618
[debug] [2025-07-30T03:00:00.411Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/rodwell-attendance/webApps/-/config [none]
[debug] [2025-07-30T03:00:01.489Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/rodwell-attendance/webApps/-/config 200
[debug] [2025-07-30T03:00:01.489Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/rodwell-attendance/webApps/-/config {"projectId":"rodwell-attendance","appId":"1:50079853705:web:5e9d3dcb42b4d0d874aa58","storageBucket":"rodwell-attendance.firebasestorage.app","apiKey":"AIzaSyBlUIZfsrgVvfw4fL2poyITh0bfM9Iumag","authDomain":"rodwell-attendance.firebaseapp.com","messagingSenderId":"50079853705"}
[info] 
   Thank you for trying our early preview of Next.js support on Firebase Hosting.
   During the preview, support is best-effort and breaking changes can be expected. Proceed with caution.
   The integration is known to work with Next.js version 12 - 15.0. You may encounter errors.

   Documentation: https://firebase.google.com/docs/hosting/frameworks/nextjs
   File a bug: https://github.com/firebase/firebase-tools/issues/new?template=bug_report.md
   Submit a feature request: https://github.com/firebase/firebase-tools/issues/new?template=feature_request.md

   We'd love to learn from you. Express your interest in helping us shape the future of Firebase Hosting: https://goo.gle/41enW5X

[debug] [2025-07-30T03:00:04.204Z] Checked if tokens are valid: true, expires at: 1753847994618
[debug] [2025-07-30T03:00:04.204Z] Checked if tokens are valid: true, expires at: 1753847994618
[debug] [2025-07-30T03:00:04.204Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/rodwell-attendance/sites/rodwell-attendance [none]
[debug] [2025-07-30T03:00:04.593Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/rodwell-attendance/sites/rodwell-attendance 200
[debug] [2025-07-30T03:00:04.593Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/rodwell-attendance/sites/rodwell-attendance {"name":"projects/rodwell-attendance/sites/rodwell-attendance","defaultUrl":"https://rodwell-attendance.web.app","type":"DEFAULT_SITE"}
[info]    ▲ Next.js 15.1.7

[info]    - Environments: .env.local


[info]    Creating an optimized production build ...

[info]  ✓ Compiled successfully

[info]    Skipping validation of types

[info]    Skipping linting

[info]    Collecting page data ...

[info]    Generating static pages (0/36) ...

[info] Warning: Please use the `legacy` build in Node.js environments.

[info]    Generating static pages (9/36) 

[info]    Generating static pages (18/36) 

[info]    Generating static pages (27/36) 

[info]  ✓ Generating static pages (36/36)

[info]    Finalizing page optimization ...
   Collecting build traces ...

[info] 

[info] Route (app)                              Size     First Load JS
┌ ○ /                                    412 B           106 kB
├ ○ /_not-found                          992 B           107 kB
├ ○ /admin                               989 B           285 kB
├ ƒ /api/aba                             158 B           106 kB
├ ƒ /api/aba/pending-count               158 B           106 kB
├ ƒ /api/printnode                       158 B           106 kB
├ ƒ /api/sheet-data                      158 B           106 kB
├ ƒ /api/student-registration            158 B           106 kB
├ ○ /dashboard                           8.6 kB          284 kB
├ ○ /dashboard/aba-approvals             6.5 kB          291 kB
├ ○ /dashboard/approvals                 10.9 kB         292 kB
├ ○ /dashboard/check                     8.02 kB         284 kB
├ ○ /dashboard/face-scan                 8.74 kB         371 kB
├ ○ /dashboard/import-student            4.1 kB          279 kB
├ ○ /dashboard/manage-excuses            6.21 kB         278 kB
├ ○ /dashboard/mock-exams                4.56 kB         273 kB
├ ○ /dashboard/notification              7.31 kB         279 kB
├ ○ /dashboard/permission                5.19 kB         277 kB
├ ○ /dashboard/pos-student               7.5 kB          296 kB
├ ○ /dashboard/record                    6.44 kB         287 kB
├ ○ /dashboard/scan-qr                   112 kB          383 kB
├ ○ /dashboard/students                  12 kB           293 kB
├ ○ /dashboard/ui                        5.82 kB         145 kB
├ ○ /link-account                        3.23 kB         333 kB
├ ○ /login                               3.88 kB         337 kB
├ ○ /login/verify-otp                    3.5 kB          334 kB
├ ○ /mock-3-result                       6.87 kB         331 kB
├ ○ /print-request                       110 kB          416 kB
├ ○ /student                             383 B           106 kB
├ ○ /student/account                     132 kB          624 kB
├ ○ /student/attendance                  12.1 kB         373 kB
├ ○ /student/dashboard                   16 kB           373 kB
├ ○ /student/home                        1.32 kB         114 kB
└ ○ /student/mock-exam                   7.94 kB         313 kB
+ First Load JS shared by all            106 kB
  ├ chunks/1517-977e440e8e822d36.js      50.7 kB
  ├ chunks/4bd1b696-2ff12745ec938cd7.js  53 kB
  └ other shared chunks (total)          2.27 kB


[info] 
○  (Static)   prerendered as static content
ƒ  (Dynamic)  server-rendered on demand


[info] Building a Cloud Function to run this application. This is needed due to:
[info]  • non-static component /api/aba/route
[info]  • non-static component /api/printnode/route
[info]  • non-static component /api/aba/pending-count/route
[info]  • non-static component /api/student-registration/route
[info]  • non-static component /api/sheet-data/route
[info] 
[debug] [2025-07-30T03:00:36.175Z] Checked if tokens are valid: true, expires at: 1753847994618
[debug] [2025-07-30T03:00:36.175Z] Checked if tokens are valid: true, expires at: 1753847994618
[debug] [2025-07-30T03:00:36.175Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/rodwell-attendance/sites/rodwell-attendance [none]
[debug] [2025-07-30T03:00:36.973Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/rodwell-attendance/sites/rodwell-attendance 200
[debug] [2025-07-30T03:00:36.974Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/rodwell-attendance/sites/rodwell-attendance {"name":"projects/rodwell-attendance/sites/rodwell-attendance","defaultUrl":"https://rodwell-attendance.web.app","type":"DEFAULT_SITE"}
[debug] [2025-07-30T03:00:47.450Z] Error: Command failed: npm i --omit dev --no-audit
    at checkExecSyncError (node:child_process:890:11)
    at execSync (node:child_process:962:15)
    at prepareFrameworks (/usr/local/lib/node_modules/firebase-tools/lib/frameworks/index.js:373:42)
    at async deploy (/usr/local/lib/node_modules/firebase-tools/lib/deploy/index.js:78:9)
[error] 
[error] Error: An unexpected error has occurred.
